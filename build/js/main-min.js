"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}jQuery.fn.exists=function(){return $(this).length},$("#gallerybanner").exists()&&($("head").append('<link rel="stylesheet" type="text/css" href="css/lightgallery.min.css">'),lightGallery(document.getElementById("gallerybanner"),{selector:".include__link"})),lightGallery(document.getElementById("gallerybanner"),{thumbnail:!1,background:"A90707",selector:".include__link"});var projectFunc={objAd:function(e,t){$(e).exists()&&$(e).each(function(e){var i=$(this).clone();$(t).append($(i)),$(this).remove()})},objReturn:function(e,t){$(e).exists()},getScrollbarWidth:function(){var e,t=projectFunc.getScrollbarWidth.width;return void 0===t&&((e=document.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,document.body.appendChild(e),t=projectFunc.getScrollbarWidth.width=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),t}};if($(".news-archive__slider").exists()){var settings={spaceBetween:51,slidesPerView:4,slidesPerColumn:2,slidesPerColumnFill:"row",slidesPerGroup:4,navigation:{nextEl:".edition-slider__arr--next",prevEl:".edition-slider__arr--prev"},pagination:{el:".news-archive__pag",clickable:!0},breakpoints:{1920:{spaceBetween:51,slidesPerView:4},1301:{spaceBetween:51,slidesPerView:4},1300:{spaceBetween:40,slidesPerView:4},1025:{spaceBetween:40,slidesPerView:4},1024:{spaceBetween:30,slidesPerView:3,slidesPerGroup:3},861:{spaceBetween:30,slidesPerView:3,slidesPerGroup:3},860:{spaceBetween:30,slidesPerView:2,slidesPerGroup:2},769:{spaceBetween:30,slidesPerView:2,slidesPerGroup:2},768:{spaceBetween:20,slidesPerView:2,slidesPerGroup:2},641:{spaceBetween:20,slidesPerView:2,slidesPerGroup:2},640:{spaceBetween:15,slidesPerView:4,slidesPerGroup:4},501:{spaceBetween:20,slidesPerView:4,slidesPerGroup:4},500:{spaceBetween:20,slidesPerView:2,slidesPerGroup:2},320:{spaceBetween:20,slidesPerView:2,slidesPerGroup:2}}},authorSlider=new Swiper(".news-archive__slider",settings);$(window).on("resize load",function(){authorSlider.destroy(),authorSlider=new Swiper(".news-archive__slider",settings)})}if($(".theme-button").exists()){var switchTheme=function(e){e.target.checked?(mainElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),toggleSwitch.forEach(function(e){e.checked=!0})):(mainElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),toggleSwitch.forEach(function(e){e.checked=!1}))},currentTheme=localStorage.getItem("theme"),mainElement=document.querySelector("body"),toggleSwitch=document.querySelectorAll(".theme-button");currentTheme&&(mainElement.setAttribute("data-theme",currentTheme),"dark"===currentTheme&&toggleSwitch.forEach(function(e){e.checked=!1})),toggleSwitch.forEach(function(e){e.addEventListener("click",switchTheme,!1)})}if($("#btnUp").exists()){var btn=$("#btnUp");$(window).scroll(function(){$(window).scrollTop()>300?btn.addClass("showBtn"):btn.removeClass("showBtn")}),btn.on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"300")})}function articleSlider(){if($(".author-articles__grid--slider").exists)try{var e,t=window.matchMedia("(min-width:600px)"),i=function(){if(!0!==t.matches)return!1===t.matches?r():void 0;void 0!==e&&e.destroy(!0,!0)},r=function(){e=new Swiper(".author-articles__grid--slider",{slidesPerView:"auto",spaceBetween:16,loop:!0,autoplay:!0,delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0})};t.addListener(i),i()}catch(e){console.log(e)}}function setHeaderHeight(e,t){var i=$(e).height();$(t).css({height:i+"px"})}function journalSlider(){if($(".journal__items").exists)try{var e,t=window.matchMedia("(min-width:501px)"),i=function(){if(!0===t.matches)return $(".journal__inner").exists()&&(setHeaderHeight(".journal__inner",".journal__cover"),$(window).on("resize load",function(){setHeaderHeight(".journal__inner",".journal__cover")})),void $(".journal__items").each(function(){e=new Swiper("."+$(this).data("id"),{slidesPerView:4,spaceBetween:18,stopOnLastSlide:!1,disableOnInteraction:!0,touchRatio:0,breakpoints:{500:{spaceBetween:15,slidesPerView:3},600:{spaceBetween:15,slidesPerView:3},601:{spaceBetween:15,slidesPerView:4},769:{spaceBetween:15,slidesPerView:5},1024:{spaceBetween:15,slidesPerView:5},1025:{slidesPerView:4,spaceBetween:18}},navigation:{nextEl:".journal__arrow.journal__arrow--next",prevEl:".journal__arrow.journal__arrow--prev"}})});!1!==t.matches||void 0!==e&&e.destroy(!0,!0)};t.addListener(i),i()}catch(e){console.log(e)}}function createLightGallery(e){-1!==["archiveVideo"].indexOf(e)?lightGallery(document.getElementById(e),{thumbnail:!1,background:"A90707",selector:".news-archive__block"}):-1!==["video-gallery"].indexOf(e)?lightGallery(document.getElementById(e),{thumbnail:!1,background:"A90707",selector:".video-gallery__item"}):lightGallery(document.getElementById(e))}function checkGallery(e){if($("#"+e).length>0)try{var t=document.getElementById(e);window.lgData[t.getAttribute("lg-uid")]?(window.lgData[t.getAttribute("lg-uid")].destroy(!0),createLightGallery(e)):createLightGallery(e)}catch(e){console.log(e)}}if($(".content--ad").exists())try{0===$(".content--ad").children().length?$(".content--ad").addClass("mf-empty"):$(".content--ad").removeClass("mf-empty")}catch(e){console.log(e)}$(window).on("load",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),$(window).on("load resize",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),$(document).on("click tap",function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),window.addEventListener("load",function(){document.querySelector("html").style.setProperty("--wScroll",projectFunc.getScrollbarWidth()+"px")}),$(function(){journalSlider(),articleSlider(),createLightGallery("archiveVideo"),createLightGallery("lightgallery"),createLightGallery("video-gallery");var e,t,i="";if($(".archive-filter__item--month-alternative input").exists())try{$(".archive-filter__item--month-alternative input").change(function(){if(this.checked){var e=parseInt($(this).val())-1,t=[31,29,31,30,31,30,31,30,31,30,31,30];parseInt($(".archive-filter__item--day-alternative").find(".archive-filter__txt").text())>t[e]&&($('.archive-filter__item--day-alternative input[checked="checked"]').removeAttr("checked"),$('.archive-filter__item--day-alternative input[value="'+t[e]+'"]').first().attr("checked","checked"),$(".archive-filter__item--day-alternative").find(".archive-filter__txt").text(t[e]))}})}catch(e){console.log(e)}if($(".btn--close").exists)try{$(".btn--close").on("click",function(e){e.preventDefault(),$(".header__search--laptop input").val(""),$(".header__search--laptop").removeClass("header__search--active")})}catch(e){console.log(e)}if($(".burger--laptop").exists)try{$(".burger--laptop").on("click",function(){$(this).toggleClass("burger--active"),$(".header__menu").toggleClass("header__menu--active"),$(".burger--laptop").hasClass("burger--active")?$("html").css("overflow","hidden"):$("html").css("overflow","auto")})}catch(e){console.log(e)}if($(".edition-rewards").length>0)try{$("head").append('<link rel="stylesheet" type="text/css" href="css/lightgallery.min.css">')}catch(e){console.log(e)}if($(".news-detail").length>0)try{$("head").append('<link rel="stylesheet" type="text/css" href="css/lightgallery.min.css">')}catch(e){console.log(e)}if($("#video-gallery").length>0)try{$("head").append('<link rel="stylesheet" type="text/css" href="css/lg-video.css">')}catch(e){console.log(e)}if(e=".article__box",t=".article__cover",$(e).exists()&&$(e).each(function(){!$(this).find(t).length>0&&$(this).addClass("article__box--full")}),$(".header__bottom .header__nav").exists&&$(function(){var e=new Object;e.axis="x",e.theme="my-theme",e.advanced={autoExpandHorizontalScroll:!0},e.scrollButtons={scrollType:"pixels",scrollAmount:300},e.mouseWheel={invert:!0},$(".header__bottom .header__nav").mCustomScrollbar(e)}),$(".filter__item").exists())try{$(".filter__box").mCustomScrollbar({theme:"dark",mouseWheelPixels:90}),$(".filter__bloc").on("click",function(){$(".filter__item").toggleClass("filter__item--active")}),$(".filter__block").each(function(){$(this).on("click",function(){var e=$(this).find("label").text();$(".filter__txt").text(e),$(this).closest(".filter__item").removeClass("filter__item--active")})}),$(document).on("click",function(e){var t=e.target;$(t).hasClass(".filter__item")||$(this).closest(".filter__item").removeClass("filter__item--active")}),jQuery(function(e){e(document).mouseup(function(t){var i=e(".filter__item");i.is(t.target)||0!==i.has(t.target).length||i.removeClass("filter__item--active")})})}catch(e){console.log(e)}if(function(e,t,i,r){$(e).exists()&&$(e).each(function(){var e=0;$(this).find(t).each(function(t){!$(this).find(r).length>0&&e++}),1==e&&$(this).find(t).each(function(e){$(this).find(r).exists()&&(0==e?$(this).closest(i).addClass("news-popular__bloc--other"):$(this).closest(i).addClass("news-popular__bloc--reverse"))})})}(".news-popular__items",".news-popular__item",".news-popular__bloc",".news-popular__pic"),$(document).on("click",function(e){if($(".archive-filter__item").exists())try{var t=$(e.target).closest(".archive-filter__bloc"),i=$(e.target).closest(".mCSB_dragger"),r="";t.length||(r=$(".archive-filter__item--active"),$(".archive-filter__item--active").removeClass("archive-filter__item--active")),i.length&&r.addClass("archive-filter__item--active")}catch(e){console.log(e)}if($(".release-month__bloc").exists())try{var s=$(e.target).closest(".release-month__btn"),a=$(e.target).closest(".mCSB_dragger"),n="";s.length||(n=$(".release-month__bloc--active"),$(".release-month__bloc--active").removeClass("release-month__bloc--active")),a.length&&n.addClass("release-month__bloc--active")}catch(e){console.log(e)}}),$(".release-month__bloc").exists())try{$(".release-month__btn").on("click",function(){$(".release-month__bloc").toggleClass("release-month__bloc--active")})}catch(e){console.log(e)}function r(e,t){if(e.length>0)for(var i=document.querySelectorAll(e),r=0;r<i.length;r++)s(i[r],t)}function s(e,t){var i=e.textContent,r=i.slice(0,t);r.length<i.length&&(r+="..."),e.textContent=r}if(r(".news-popular__text",150),r(".news-basic__text",179),r(".news-set__text",150),r(".news-actual__txt",115),r(".news-most__txt",158),r(".news-most__text",46),r(".news-photo__info",115),r(".author-articles__txt",72),r(".search__text",72),r(".search__text",72),r(".news-slider__txt",250),r(".news-slider__txt",250),r(".publish__txt",15),$(window).on("resize load",function(){$(this).width()<=640?r(".news-actual__text",1e3):r(".news-actual__text",55)}),$(".archive-filter__panel").exists())try{for(var a=document.getElementsByClassName("archive-filter__panel"),n=0;n<a.length;n++)a[n].onclick=function(e){var t=e.target;if(!$(t).attr("href")){this.classList.toggle("archive-filter__panel--active"),$(this).parent().toggleClass("archive-filter__wrp--active");var i=this.nextElementSibling;i.style.maxHeight?i.style.maxHeight=null:i.style.maxHeight=i.scrollHeight+"px"}}}catch(e){console.log(e)}function l(){if($(".archive-filter__item").exists)try{var e=$(".archive-filter__item--month").find(".archive-filter__block"),t="";$(e).each(function(){$(this).children("input").prop("checked")&&(-1!=(t=$(this).children("label").text()).indexOf("Декабрь")||-1!=t.indexOf("Январь")||-1!=t.indexOf("Март")||-1!=t.indexOf("Май")||-1!=t.indexOf("Июль")||-1!=t.indexOf("Август")||-1!=t.indexOf("Октябрь")?(c(".archive-filter__item--day",31),$(".archive-filter__item--day").find(".archive-filter__txt").text("31")):-1!=t.indexOf("Сентябрь")||-1!=t.indexOf("Июнь")||-1!=t.indexOf("Ноябрь")||-1!=t.indexOf("Апрель")?(c(".archive-filter__item--day",30),$(".archive-filter__item--day").find(".archive-filter__txt").text("30")):(c(".archive-filter__item--day",28),$(".archive-filter__item--day").find(".archive-filter__txt").text("28")))})}catch(e){console.log(e)}}function c(e,t){if($(".archive-filter__item").exists)try{if(".archive-filter__item--year"==e){var r=document.querySelector(".archive-filter__item--year");i=r.querySelector(".archive-filter__list");for(var s=o.currentYear;s>=t;s--){var a=document.createElement("div"),n=document.createElement("input"),l=document.createElement("label");a.classList.add("archive-filter__block"),s==o.currentYear&&(n.setAttribute("checked","checked"),n.setAttribute("currentyear",o.currentYear)),n.setAttribute("id","y-".concat(s)),n.setAttribute("type","radio"),n.setAttribute("name",o.year),n.setAttribute("value","".concat(s)),l.setAttribute("for","y-".concat(s)),l.textContent=s,a.appendChild(n),a.appendChild(l),i.appendChild(a)}}else{var c=document.querySelector(".archive-filter__item--day");i=c.querySelector(".archive-filter__list");for(var d=t;d>0;d--){var h=document.createElement("div"),u=document.createElement("input"),_=document.createElement("label");h.classList.add("archive-filter__block"),d==o.currentDay&&(u.setAttribute("checked","checked"),u.setAttribute("currentday",o.currentDay)),u.setAttribute("id","d-".concat(d)),u.setAttribute("type","radio"),u.setAttribute("name",o.day),u.setAttribute("value","".concat(d)),_.setAttribute("for","d-".concat(d)),_.textContent=d,h.appendChild(u),h.appendChild(_),i.appendChild(h)}}}catch(e){console.log(e)}}if($(".archive-filter__item").exists())try{if($(".archive-filter__items").length>0){document.querySelector(".archive-filter__items");var o=$(".archive-filter__items").data("filter");l(),c(".archive-filter__item--year",o.min)}$(".archive-filter__item").each(function(){var e,t,i="",r="";i=$(this).find(".archive-filter__box"),$(i).mCustomScrollbar({theme:"dark",mouseWheelPixels:90}),i=$(this).find(".archive-filter__bloc"),e=$(this).find(".archive-filter__txt"),t=$(this).find(".archive-filter__list").find("input"),$(t).each(function(){$(this).prop("checked")&&$(e).text($(this).next().text())}),$(i).on("click",function(){$(this).toggleClass("archive-filter__item--active").siblings().removeClass("archive-filter__item--active"),$(this).hasClass("archive-filter__item--active")&&(r=$(this).find(".archive-filter__block"),$(r).each(function(){$(this).on("click",function(){$(e).text($(this).text()),$(".archive-filter__item").removeClass("archive-filter__item--active")})})),$(this).hasClass("archive-filter__item--active")&&$(this).hasClass("archive-filter__item--year")&&(r=$(this).find(".archive-filter__block"),$(r).each(function(){$(this).on("click",function(){$(e).text($(this).text()),$(".archive-filter__item--day").find(".archive-filter__block").remove(),$(this).find("input").attr({currentYear:o.currentYear}).closest(".archive-filter__block").siblings().find("input").removeAttr("currentyear").removeAttr("checked"),l()})})),$(this).hasClass("archive-filter__item--active")&&$(this).hasClass("archive-filter__item--day")&&(r=$(this).find(".archive-filter__block"),$(r).each(function(){$(this).on("click",function(){$(this).find("input").attr("currentDay",o.currentDay).closest(".archive-filter__block").siblings().find("input").removeAttr("currentday")})})),$(this).hasClass("archive-filter__item--active")&&$(this).hasClass("archive-filter__item--month")&&(r=$(this).find(".archive-filter__block"),$(r).each(function(){$(this).on("click",function(){$(e).text($(this).text()),$(".archive-filter__item--day").find(".archive-filter__block").remove(),l()})}))}.bind(this))})}catch(e){console.log(e)}if($(".header__search--laptop").exists)try{var d=function(e){e.preventDefault()};$(".header__btn").on("click",function(){$(".header__search--laptop").addClass("header__search--active"),$(".header__search--laptop").hasClass("header__search--active")&&(setTimeout(function(){$(".header__search--laptop input").focus()},500),$(".header__search--laptop").bind("submit",d)),""!=$(".header__search--laptop input").val()&&$(".header__search--laptop").unbind("submit",d)})}catch(e){console.log(e)}if($(".header__inner").exists)try{var h=$(window),u=$(".header__inner"),_=u.offset().top;h.on("scroll",function(){(window.pageYOffset||document.documentElement.scrollTop)>_?u.addClass("mf-fixed"):u.removeClass("mf-fixed")})}catch(e){console.log(e)}if($(".header__func").exists)try{$(".header__func").on("click",function(){$(".header__func").toggleClass("header__func--active"),$(".header__section").toggleClass("header__section--active")})}catch(e){console.log(e)}function f(){if($(".news-detail__item").exists)try{var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div"),r=p[b].parentNode;$(e).attr("class","gallery__top"),$(e).addClass("gallery__main"+b),$(t).attr("class","gallery"),$(i).attr("class","swiper-wrapper"),i.innerHTML+=v,$(e).append(i),$(t).append(e);var s=document.createElement("div");$(s).attr("class","gallery__thumbs"),$(s).addClass("gallery__btn"+b);for(var a=0;a<2;a++)if(1==a){var n=document.createElement("div");$(n).attr("class","b-arrow b-arrow--prev"),$(s).append(n)}else{n=document.createElement("div");$(n).attr("class","b-arrow b-arrow--next"),$(s).append(n)}r.insertBefore(t,p[b]),t.appendChild(s),$(e).find(i).clone().appendTo(s),1==$(s).children(".swiper-wrapper").children().length&&$(s).css("display","none")}catch(e){console.log(e)}}for(var p=document.querySelectorAll(".news-detail__item > *"),m=0,v="",g=[],w=0,y=0;y<p.length;y++)$(p[y]).is("img")?($(p[y]).attr("class",m),g.push(m)):m++;for(var b=0;b<p.length;b++)p[b].classList.contains(w)?(v+=p[b].outerHTML,$(p[b]).hide(),p[b]==p[p.length-1]&&v&&(setTimeout(function(){$(".news-detail__item img").css("opacity","1"),$(".gallery").css("opacity","1")},500),f())):(v&&(setTimeout(function(){$(".news-detail__item img").css("opacity","1"),$(".gallery").css("opacity","1")},500),f()),v="",w++);function x(e){for(var t=document.querySelectorAll("."+e),i=[],r=0;r<t.length;r++)i.push(t[r]);i.forEach(function(t,i){for(var r=t.querySelectorAll("img"),s=[],a=0;a<r.length;a++)s.push(r[a]);s.forEach(function(t,i){var r=document.createElement("a");r.innerHTML=t.outerHTML,"gallery__thumbs"!=e&&r.setAttribute("href",t.getAttribute("src")),r.classList.add("gallery-item"),r.classList.add("swiper-slide"),t.parentNode.replaceChild(r,t)}),t.setAttribute("id","slide"+i),lightGallery(document.querySelector("#"+t.id),{selector:".gallery-item"})})}x("gallery__top"),x("gallery__thumbs");$(".gallery__thumbs").find(".swiper-slide");$(".gallery").find(".swiper-slide").each(function(){$(this).append("<canvas class='gallery__img-bg'></canvas>");var e=$(this).find("canvas")[0],t=e.getContext("2d"),i=new Image;i.src=$(this).find("img").attr("src"),i.onload=function(){var r=Math.max(e.width/i.width,e.height/i.height);t.filter="blur(7px)",t.scale(r,r),t.drawImage(i,0,-100)}}),$(document).ready(function(){for(var e=0;e<p.length;e++){var t=new Swiper(".gallery__btn"+e,{spaceBetween:17,slidesPerView:5,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,breakpoints:{320:{spaceBetween:8,slidesPerView:3},501:{spaceBetween:8,slidesPerView:4},769:{spaceBetween:17,slidesPerView:6},1024:{spaceBetween:17,slidesPerView:6},1025:{spaceBetween:17,slidesPerView:5}}});new Swiper(".gallery__main"+e,{spaceBetween:10,thumbs:{swiper:t},navigation:{nextEl:".b-arrow--next",prevEl:".b-arrow--prev"}});$(".gallery").exists()&&$(".news-detail__item").css("min-height",$(".gallery").height()+15+"px")}$(".content p").exists()&&($(".gallery").exists()||($(".content p").css({"max-width":"900px","margin-left":0}),$(".content h2").css({"text-align":"left","margin-top":"25px"})))});for(var k=0;k<p.length;k++)$(".gallery__btn"+k).each(function(){var e=$(this).find(".swiper-slide");e.length>1&&$(".gallery__btn"+k).fadeIn(),e.length>5&&$(this).find(".b-arrow").css("display","block")});if($("#input-search").exists)try{$("#input-search").on("keyup",function(){$(this).val()?($(".mf-search").addClass("mf-search--active"),$(".header__field .b-svg").css({stroke:"#27202C"})):($(".mf-search").removeClass("mf-search--active"),$(".header__field .b-svg").css({stroke:"#DBD4E0"}))}),$("#input-search").focusout(function(){$(this).val()||($(".mf-search").removeClass("mf-search--active"),$(".header__field .b-svg").css({stroke:"#DBD4E0"}))})}catch(e){console.log(e)}if($(".news-slider__gallery").exists&&$(".news-slider__thumbs").exists)try{var C=new Swiper(".news-slider__gallery",{spaceBetween:10,slidesPerView:1,watchSlidesVisibility:!0,effect:"fade"}),S=new Swiper(".news-slider__thumbs",{spaceBetween:10,effect:"fade",navigation:{nextEl:".news-slider__arrow--next",prevEl:".news-slider__arrow--prev"},fadeEffect:{crossFade:!0},breakpoints:{920:{touchRatio:1},921:{touchRatio:0}}});S.controller.control=C,C.controller.control=S}catch(e){console.log(e)}if($(".edition-slider").exists())try{new Swiper(".edition-slider",{spaceBetween:18,slidesPerView:6,slidesPerColumn:2,slidesPerColumnFill:"row",slidesPerGroup:6,navigation:{nextEl:".edition-slider__arr--next",prevEl:".edition-slider__arr--prev"},pagination:{el:".edition-slider__pag",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'">'+(e+1)+"</span>"}},breakpoints:{1920:{spaceBetween:18,slidesPerView:6},769:{spaceBetween:18,slidesPerView:6},768:{spaceBetween:15,slidesPerView:5,slidesPerGroup:5},621:{spaceBetween:15,slidesPerView:5,slidesPerGroup:5},620:{spaceBetween:10,slidesPerView:4,slidesPerGroup:4},501:{spaceBetween:10,slidesPerView:3,slidesPerGroup:3},321:{spaceBetween:10,slidesPerGroup:3,slidesPerView:2},320:{spaceBetween:10,slidesPerView:2,slidesPerGroup:2}}})}catch(e){console.log(e)}$(".release-month__items").exists()&&(!0==!window.matchMedia("(min-width:769px)").matches&&$(".release-month__items").mCustomScrollbar({theme:"dark",mouseWheelPixels:90}));function P(e,t){var i=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:i>1&&i<5?t[1]:1==i?t[0]:t[2]}$(".header__search--laptop").exists()&&document.querySelector(".header__top .header__search--laptop").addEventListener("keydown",function(e){13==e.keyCode&&this.submit()});var j=function(e,t){try{$(e).each(function(e,i){var r=i.getContext("2d"),s=new Image;s.src=$(t).find("img").attr("src"),s.onload=function(){var e=Math.max(i.width/s.width,i.height/s.height);r.filter="blur(7px)",r.scale(e,e),r.drawImage(s,0,-100)}})}catch(e){console.log(e)}},E=function(e){var t=e.getAttribute("data-slide");return(t=JSON.parse(t)).slides};if($(".entry").exists()){var A="",B="",L=0,V=0,q="",G="",T="",H="";document.querySelectorAll(".entry__item").forEach(function(e){(B="",(A=E(e)).length>0)&&(A.forEach(function(e,t){t<3&&(B+='<div class="entry__bloc"><img src= "'.concat(e,'" /><canvas class="entry__canvas"></div>'),V=t)}),e.querySelector(".entry__wrapper").innerHTML=B,A.length>=3&&e.querySelector(".entry__wrapper").classList.add("entry__wrapper--direction"),A.length>3&&(L=A.length-(V+1),(q=(q=e.querySelectorAll(".entry__bloc"))[q.length-1]).classList.add("entry__bloc--special"),(G=document.createElement("span")).textContent="+ ".concat(L," ").concat(P(L,["фотография","фотографии","фотографий"])," "),q.appendChild(G)),j($(e).find("canvas"),e),e.querySelectorAll(".entry__bloc").forEach(function(t,i){t.addEventListener("click",function(){(H=new F($(e).find(".js-slider"),E(e),$(e).find(".swiper-wrapper")[0])).createSlider,T=$(e).find(".js-entry-popup"),I(!0,T)})}),$(e).find(".js-overlay").exists()&&$(e).find(".js-overlay").on("click",function(t){-1!=t.target.className.indexOf("js-overlay")&&(H.dstroySlider,T=$(e).find(".js-entry-popup"),I(!1,T))}),$(e).find(".js-close-form").exists()&&$(e).find(".js-close-form").on("click",function(){I(!1,T)}),$(window).on("resize load",function(){$(this).width()<=882?$(e).find(".js-out-date").exists()&&projectFunc.objAd($(e).find(".js-out-date"),$(e).find(".js-in-date")):$(e).find(".js-out-date").exists()&&projectFunc.objAd($(e).find(".js-out-date"),$(e).find(".popup__header"))}))})}$(".js-scroll").exists()&&Scrollbar.init(document.querySelector(".js-scroll"),{damping:.05,alwaysShowTracks:!0}),$(window).on("resize load",function(){$(this).width()<=1024?($(".js-out-cloud").exists()&&projectFunc.objAd(".js-out-cloud",".js-in-cloud"),$(".js-cloud-btn").exists()&&$(".js-cloud-btn").on("click",function(){$(".cloud__wrp").toggleClass("active"),this.classList.toggle("is-open");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}),$(".js-banner-slider").exists()&&projectFunc.objAd($(".js-banner-slider"),$(".js-in-banner ")),$(".js-out-kiosk").exists()&&projectFunc.objAd($(".js-out-kiosk"),$(".js-in-kiosk "))):($(".js-banner-slider").exists()&&$(".js-banner-slider").exists()&&$(".js-banner-slider").each(function(e){var t=$(this).clone();$(".news-city").after($(t)),$(this).remove()}),$(".js-out-kiosk").exists()&&$(".js-out-kiosk").exists()&&$(".js-out-kiosk").each(function(e){var t=$(this).clone();$(t).prependTo($(".wrapper__right")),$(this).remove()}),$(".js-out-cloud").exists()&&projectFunc.objAd(".js-out-cloud",".wrapper__right"))});var O=function(e){e?$("html").css("overflow","hidden"):$("html").css("overflow","auto")},M=function(e,t){D(t,"start"==e)},I=function(e,t){if($(".js-overlay").exists()){var i=$(t).parent(".js-overlay"),r=new TimelineMax({reversed:!0,paused:!0,defaults:{duration:.6},onStart:O,onStartParams:[e,!1],onComplete:M,onCompleteParams:["start",t]}),s=new TimelineMax({reversed:!0,paused:!0,defaults:{duration:.3},onStart:M,onStartParams:["end",t],onComplete:O,onCompleteParams:[e,!0]});r.to(i,{autoAlpha:1,ease:"power2.out"}),s.to(i,{autoAlpha:0,ease:"power2.out"},"+=0.6"),e?(r.reverse(),r.play()):(s.reverse(),s.play())}},D=function(e,t){if($(e).exists()){var i=new TimelineMax({reversed:!0,paused:!0,defaults:{duration:.4}}),r=new TimelineMax({reversed:!0,paused:!0,defaults:{duration:.4}});r.to(e,{yPercent:-110,autoAlpha:0}),i.set(e,{yPercent:-100}).to(e,{yPercent:0,autoAlpha:1,ease:"power2.out"}),t?(r.reverse(),i.play()):(i.reverse(),r.play())}},F=function(){function e(t,i,r){_classCallCheck(this,e),this.name=t,this.slides=i,this.place=r,this.slider=""}return _createClass(e,[{key:"createSlider",get:function(){var e=this.slides,t="",i="";if(e.length>0){var r=$(this.name).find(".pagination"),s=$(this.name).find(".arrow__link--next"),a=$(this.name).find(".arrow__link--prev");e.forEach(function(e,i){t+='<div class="swiper-slide"><img src="'.concat(e,'" alt="" /><canvas></canvas></div>')}),this.place.innerHTML=t,$(this.place).find(".swiper-slide").each(function(e,t){i=$(t).find("canvas"),j(i,t)}),this.slider=new Swiper(this.name,{slidesPerView:1,spaceBetween:10,navigation:{nextEl:s,prevEl:a},pagination:{el:r,type:"custom",renderCustom:function(e,t,i){var r=t||0;return"<span>".concat(P(r,["Фотография","Фотографии","Фотографий"]),"</span> ").concat((""+r).slice(-2)," из ").concat((""+i).slice(-2))}}})}}},{key:"dstroySlider",get:function(){var e=this;this.slider.destroy(!0,!0),setTimeout(function(){e.place.innerHTML=""},500)}}]),e}();$(".include__unit").exists()&&function(){for(var e=document.querySelectorAll(".include__unit"),t=document.querySelectorAll(".include__decor"),i=document.querySelector(".include__layer").querySelectorAll("svg g"),r="",s="",a=function(r){e[r].addEventListener("mouseenter",function(){t[r].querySelector("svg").classList.add("mf-bg");for(var e=0;e<i.length;e++)if(r==i[e].dataset.area){s=i[e].querySelectorAll("rect");for(var a=0;a<s.length;a++)s[a].classList.add("mf-bg")}}),e[r].addEventListener("mouseleave",function(){t[r].querySelector("svg").classList.remove("mf-bg");for(var e=0;e<i.length;e++)if(r==i[e].dataset.area){s=i[e].querySelectorAll("rect");for(var a=0;a<s.length;a++)s[a].classList.remove("mf-bg")}})},n=0;n<e.length;n++)a(n);for(var l=function(e){i[e].addEventListener("mouseenter",function(){r=t[i[e].dataset.area].querySelectorAll("svg");for(var a=0;a<r.length;a++)r[a].classList.add("mf-bg");s=i[e].querySelectorAll("rect");for(var n=0;n<s.length;n++)s[n].classList.add("mf-bg")}),i[e].addEventListener("mouseleave",function(){t[e].querySelector("svg").classList.remove("mf-bg"),r=t[i[e].dataset.area].querySelectorAll("svg");for(var a=0;a<r.length;a++)r[a].classList.remove("mf-bg");s=i[e].querySelectorAll("rect");for(var n=0;n<s.length;n++)s[n].classList.remove("mf-bg")})},c=0;c<i.length;c++)l(c)}()});